<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('../partials/head'); %>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Resident Management</title>
    <style>
        .container {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <header>
        <%- include('../partials/header'); %>
    </header>

    <div class="container">
        <h1 class="text-center">Resident Management</h1>

        <!-- View Rooms -->
        <div>
            <h2>View Residents</h2>
            <button onclick="toggleTable()" class="btn btn-primary">Toggle View</button>
            <table class="table table-striped" id="residentTable">
                <thead>
                    <tr>
                        <th>Resident ID</th>
                        <th>Resident First Name</th>
                        <th>Resident Last Name</th>
                        <th>Resident Age</th>
                        <th>Resident Room</th>
                    </tr>
                </thead>
                <tbody>
                    <% residents.forEach(function(resident) { %>
                        <tr>
                            <td><%= resident.id %></td>
                            <td><%= resident.firstname %></td>
                            <td><%= resident.lastname %></td>
                            <td><%= resident.age %></td>
                            <td><%= resident.room %></td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        </div>

        <!-- Add resident Form -->
        <div>
            <h2>Add Resident</h2>
            <form action="/add-resident" method="post">
                <input type="text" name="firstname" placeholder="First Name" required>
                <input type="text" name="lastname" placeholder="Last Name" required>
                <input type="text" name="age" placeholder="Age" required>
                <input type="text" name="room" placeholder="Room" required>
                <button type="submit" class="btn btn-success">Add Resident</button>
            </form>
        </div>

        <!-- Delete Room Form -->
        <div>
            <h2>Delete Resident</h2>
            <form action="/delete-resident" method="post">
                <input type="number" name="id" placeholder="Resident ID" required>
                <button type="submit" class="btn btn-danger">Delete Room</button>
            </form>
        </div>

        <!-- Update Room Form -->
        <div>
            <h2>Update Resident</h2>
            <form action="/update-resident" method="post">
                <input type="number" name="id" placeholder="Resident ID" required>
                <input type="text" name="firstname" placeholder="First Name" required>
                <input type="text" name="lastname" placeholder="Last Name" required>
                <input type="text" name="age" placeholder="Age" required>
                <input type="text" name="room" placeholder="Room" required>
                <button type="submit" class="btn btn-warning">Update Resident</button>
            </form>
        </div>
    </div>

    <script>
        function toggleTable() {
            var table = document.getElementById("residentTable");
            table.style.display = table.style.display === "none" ? "table" : "none";
        }
    </script>

    <footer>
        <%- include('../partials/footer'); %>
    </footer>

</body>
</html>
